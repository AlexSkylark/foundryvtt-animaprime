<form class="{{cssClass}} character-sheet" autocomplete="on">

    {{> "systems/animaprime/templates/partials/script-health.hbs" data}}

    <div class="decorative-square">&nbsp;</div>
    <header class="flexcol">    
        <div class="header-namestrip flexrow flex0">
            <input class="name" name="name" type="text" value="{{actor.name}}" />
            <input name="data.race" type="text" value="{{data.race}}" placeholder="[race]" />
            <input name="data.profession" type="text" value="{{data.profession}}" placeholder="[profession]" />
            <div class="lock-container {{#if data.enableEdit}}lock-off{{else}}lock-on{{/if}}">
                <div class="lock-button {{#if data.enableEdit}}lock-off{{else}}lock-on{{/if}}">
                    <i class="fas fa-lock"></i>
                </div>
            </div>
                
        </div>
    </header>
    <div class="flexrow sheet-columns">
        <div class="left-side flexcol">
            <div class="flex0">
                <div class="image-container">
                <img src="{{actor.img}}" title="{{actor.name}}" data-edit="img" />
                <div class="damage-curtain"></div>
                </div>
                
                <div class="icon-container defense-button">                    
                    <div class="icon {{#unless data.enableEdit}}edit-hidden{{/unless}} button-changevalue health plus" data-property="health.value" data-operation="plus"><i class="fas fa-plus"></i></div>
                    <div class="icon {{#unless data.enableEdit}}edit-hidden{{/unless}} button-changevalue health minus"data-property="health.value" data-operation="minus"><i class="fas fa-minus"></i></div>
                    <div class="icon {{#unless data.enableEdit}}edit-hidden{{/unless}} button-changevalue healthmax plus" data-property="health.max" data-operation="plus"><i class="fas fa-plus"></i></div>
                    <div class="icon {{#unless data.enableEdit}}edit-hidden{{/unless}} button-changevalue healthmax minus"data-property="health.max" data-operation="minus"><i class="fas fa-minus"></i></div>
                    <div class="icon {{#unless data.enableEdit}}edit-hidden{{/unless}} button-changevalue plus" data-property="defense" data-operation="plus"><i class="fas fa-plus"></i></div>
                    <div class="icon {{#unless data.enableEdit}}edit-hidden{{/unless}} button-changevalue minus"data-property="defense" data-operation="minus"><i class="fas fa-minus"></i></div>                    
                    <div class="health-defense">
                        <div class="health-bar-frame">
                            <div class="health-bar-frame health-bar"></div>
                            <span>{{data.health.value}} / {{data.health.max}}</span>
                        </div>
                        <div class="attribute-value">
                            <span>{{data.defense}}</span>
                        </div>
                    </div>                    
                </div>
            </div>
            <div class="container-section flex0">
                <label class="container-header">Passion</label>
                <div class="container-wrapper">
                    <input class="input-text" name="data.passion" type="text" value="{{data.passion}}" placeholder="[passion]" {{#unless data.enableEdit}}disabled{{/unless}} />
                    
                </div>
            </div>
            <div class="container-section flex0">
                <label class="container-header">Background</label>
                <div class="container-wrapper">
                    <input class="input-text" name="data.background" type="text" value="{{data.background}}" placeholder="[background]" {{#unless data.enableEdit}}disabled{{/unless}} />
                </div>
            </div>
            
            <div class="container-section icon-container flex0">
                <label class="container-header generic-skill-roll">Skills</label>
                <span class="icon button-addskill item-create {{#unless data.enableEdit}}edit-hidden{{/unless}}" data-type="skill"><i class="fas fa-plus"></i></span>
                <div class="container-wrapper skills-container">
                    {{#each data.skills as |item id|}}
                    <div class="item icon-container" data-item-id="{{item._id}}">
                        <span class="skill-unit item-roll">{{this.name}}&nbsp;</span>
                        <span class="icon fas fa-edit item-edit {{#unless ../data.enableEdit}}edit-hidden{{/unless}}"></span>
                        <span class="icon fas fa-trash item-delete {{#unless ../data.enableEdit}}edit-hidden{{/unless}}"></span>
                    </div>                    
                    {{/each}}
                </div>
            </div>
        </div>
        <div class="right-side">            
            <div class="container-section">
                <label class="container-header">Personality Traits</label>
                <div class="container-wrapper">
                    <div class="flexrow">
                        <input {{#unless data.enableEdit}}disabled{{/unless}} class="input-text trait-value" name="data.traits.trait1.name" type="text" value="{{data.traits.trait1.name}}" placeholder="[choose a personality trait]" />
                        <input class="input-text trait-check" name="data.traits.trait1.marked" type="checkbox" {{checked data.traits.trait1.marked}} />
                    </div>
                    <div class="flexrow">
                        <input {{#unless data.enableEdit}}disabled{{/unless}} class="input-text trait-value" name="data.traits.trait2.name" type="text" value="{{data.traits.trait2.name}}" placeholder="[choose a personality trait]" />
                        <input  class="input-text trait-check" name="data.traits.trait2.marked" type="checkbox" {{checked data.traits.trait2.marked}} />
                    </div>
                    <div class="flexrow">
                        <input {{#unless data.enableEdit}}disabled{{/unless}} class="input-text trait-value" name="data.traits.trait3.name" type="text" value="{{data.traits.trait3.name}}" placeholder="[choose a personality trait]" />
                        <input class="input-text trait-check" name="data.traits.trait3.marked" type="checkbox" {{checked data.traits.trait3.marked}} />
                    </div>                
                </div>
            </div>
            <div class="dice-pools">
                <div class="dice-pool-strip icon-container flex0">                    
                    <div class="icon button-changevalue plus {{#unless data.enableEdit}}edit-hidden{{/unless}}" data-property="actionDice" data-operation="plus"><i class="fas fa-plus"></i></div>
                    <div class="icon button-changevalue minus {{#unless data.enableEdit}}edit-hidden{{/unless}}"data-property="actionDice" data-operation="minus"><i class="fas fa-minus"></i></div>
                    <label>Action Dice</label>
                    <div class="attribute-value">
                        <span>{{data.actionDice}}</span>
                    </div>
                    
                </div>
                <div class="dice-pool-strip icon-container flex0">
                    <div class="icon button-changevalue plus {{#unless data.enableEdit}}edit-hidden{{/unless}}" data-property="strikeDice" data-operation="plus"><i class="fas fa-plus"></i></div>
                    <div class="icon button-changevalue minus {{#unless data.enableEdit}}edit-hidden{{/unless}}" data-property="strikeDice" data-operation="minus"><i class="fas fa-minus"></i></div>
                    <label>Strike Dice</label>
                    <div class="attribute-value">
                        <span>{{data.strikeDice}}</span>
                    </div>
                </div>
                <div class="dice-pool-strip icon-container flex0">
                    <div class="icon button-changevalue plus {{#unless data.enableEdit}}edit-hidden{{/unless}}" data-property="chargeDice" data-operation="plus"><i class="fas fa-plus"></i></div>
                    <div class="icon button-changevalue minus {{#unless data.enableEdit}}edit-hidden{{/unless}}" data-property="chargeDice" data-operation="minus"><i class="fas fa-minus"></i></div>
                    <label>Charge Dice</label>
                    <div class="attribute-value">
                        <span>{{data.chargeDice}}</span>
                    </div>
                </div>
                <div class="dice-pool-strip icon-container flex0">                    
                    <div class="icon button-changevalue plus {{#unless data.enableEdit}}edit-hidden{{/unless}}" data-property="threatDice" data-operation="plus"><i class="fas fa-plus"></i></div>
                    <div class="icon button-changevalue minus {{#unless data.enableEdit}}edit-hidden{{/unless}}" data-property="threatDice" data-operation="minus"><i class="fas fa-minus"></i></div>
                    <label>Threat Dice</label>
                    <div class="attribute-value">
                        <span>{{data.threatDice}}</span>
                    </div>
                </div>
            </div>
            
            <nav class="sheet-tabs tabs" data-group="primary-tabs">                
                <a data-tab="basic">Basic Actions</a>
                <a data-tab="profession">Character Actions</a>
            </nav>            
            <section class="sheet-body">
                <div class="tab" data-tab="basic" data-group="primary-tabs">
                    <div class="actions-section">                    
                        {{#each data.basicActions as |item id|}}
                        {{> "systems/animaprime/templates/cards/item-card/item-card.hbs" item enableEdit=../data.enableEdit}}
                        {{/each}}
                    </div>
                </div>
                <div class="tab" data-tab="profession" data-group="primary-tabs">
                    <div class="actions-section">                    
                        {{#each data.actions as |item id|}}
                        {{> "systems/animaprime/templates/cards/item-card/item-card.hbs" item enableEdit=../data.enableEdit}}
                        {{/each}}
                    </div>
                </div>
            </section>            
        </div>
    </div>
</form>